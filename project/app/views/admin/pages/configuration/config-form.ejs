<% include ./../../helper/formBody%>
<% include ./../../helper/input%>
<% include ./../../helper/textArea%>
<% include ./../../helper/image%>


<%
const linkPrefix = systemConfigs.prefixAdmin + `/${controllerName}/`
const uploadPath = 'uploads/config/'
let elementsAboutForm = [{for: 'form[about]', label: 'About', input: textAreaHelper('about', item.about)}]
let elementsGeneralForm = [
{id: 'form[address]', for: 'form[address]', label: 'Address', input: inputHelper("text", "info[address]", item.info.address, {'id': 'form[address]'})},
{id: 'form[copyright]', for: 'form[copyright]', label: 'Copyright', input: inputHelper("text", "info[copyright]", item.info.copyright, {'id': 'form[copyright]'})},
{id: 'form[content]', for: 'form[content]', label: 'Content', input: inputHelper("text", "info[content]", item.info.content, {'id': 'form[content]'})},
{id: 'form[phone]', for: 'form[phone]', label: 'Phone', input: inputHelper("text", "info[phone]", item.info.phone, {'id': 'form[phone]'})},
{id: 'form[logo]', for: 'form[logo]', label: 'Logo', input: inputHelper("file", "info[logo]", item.info.logo, {'id': 'imgInp'})},
]
let elementsSocialForm = [
{id: 'form[facebook]', for: 'form[facebook]', label: 'Facebook', input: inputHelper("text", "info[social][facebook]", item.info.social.facebook, {'id': 'form[facebook]'})},
{id: 'form[youtube]', for: 'form[youtube]', label: 'Youtube', input: inputHelper("text", "info[social][youtube]", item.info.social.youtube, {'id': 'form[youtube]'})},
{id: 'form[twitter]', for: 'form[twitter]', label: 'Twitter', input: inputHelper("text", "info[social][twitter]", item.info.social.twitter, {'id': 'form[twitter]'})},
{id: 'form[pinterest]', for: 'form[pinterest]', label: 'Pinterest', input: inputHelper("text", "info[social][pinterest]", item.info.social.pinterest, {'id': 'form[pinterest]'})},
{id: 'form[instagram]', for: 'form[instagram]', label: 'Instagram', input: inputHelper("text", "info[social][instagram]", item.info.social.instagram, {'id': 'form[instagram]'})},
{id: 'form[email]', for: 'form[email]', label: 'Email', input: inputHelper("text", "info[social][email]", item.info.social.email, {'id': 'form[email]'})},
]
let elementsSendEmailForm = [
{id: 'form[email]', for: 'form[email]', label: 'Email', input: inputHelper("text", "send_email[email]", item.send_email.email, {'id': 'form[email]'})},
{id: 'form[password]', for: 'form[password]', label: 'Password', input: inputHelper("password", "send_email[password]", item.send_email.password, {'id': 'form[password]'})},
{id: 'form[BCC]', for: 'form[BCC]', label: 'BCC', input: inputHelper("BCC", "send_email[BCC]", item.send_email.BCC, {'id': 'form[BCC]'})},
]
%>

<div class="col-12 ">
   <div class="card card-primary card-outline card-tabs">
      <div class="card-header p-0 pt-1 border-bottom-0">
         <ul class="nav nav-tabs" id="custom-tabs-three-tab" role="tablist">
            <li class="nav-item">
               <a class="nav-link active" id="custom-tabs-three-home-tab" data-toggle="pill" href="#custom-tabs-three-home" role="tab" aria-controls="custom-tabs-three-home" aria-selected="true">General</a>
            </li>
            <li class="nav-item">
               <a class="nav-link" id="custom-tabs-three-profile-tab" data-toggle="pill" href="#custom-tabs-three-profile" role="tab" aria-controls="custom-tabs-three-profile" aria-selected="false">Social</a>
            </li>
            <li class="nav-item">
               <a class="nav-link" id="custom-tabs-three-messages-tab" data-toggle="pill" href="#custom-tabs-three-messages" role="tab" aria-controls="custom-tabs-three-messages" aria-selected="false">Send Email</a>
            </li>
            <li class="nav-item">
               <a class="nav-link" id="custom-tabs-three-settings-tab" data-toggle="pill" href="#custom-tabs-three-settings" role="tab" aria-controls="custom-tabs-three-settings" aria-selected="false">About</a>
            </li>
         </ul>
      </div>
      <div class="card-body">
         <form action="/<%= linkPrefix%>save" method="post" enctype="multipart/form-data"  class="mb-0" id="admin-form" name="form_upload" >
         <div class="tab-content" id="custom-tabs-three-tabContent">
            <div class="tab-pane fade active show" id="custom-tabs-three-home" role="tabpanel" aria-labelledby="custom-tabs-three-home-tab">
               <%- formBodyHelper(elementsGeneralForm)%>
               <div class="col-12 col-sm-8 offset-sm-2" id="logoContainer">
                  <label></label>
                  <%- imageHelper(uploadPath, item.info.logo, 'Logo', '200', '100')%>
              </div>
                            
              <input type="hidden" id="form[token]" name="info[image_old]" value="<%= item.info.logo%>">
            </div>
            
            <div class="tab-pane fade" id="custom-tabs-three-profile" role="tabpanel" aria-labelledby="custom-tabs-three-profile-tab">
               <%- formBodyHelper(elementsSocialForm)%>
            </div>
            <div class="tab-pane fade" id="custom-tabs-three-messages" role="tabpanel" aria-labelledby="custom-tabs-three-messages-tab">
               <%- formBodyHelper(elementsSendEmailForm)%>
            </div>
            <div class="tab-pane fade" id="custom-tabs-three-settings" role="tabpanel" aria-labelledby="custom-tabs-three-settings-tab">
               <%- formBodyHelper(elementsAboutForm)%>
            </div>
            
         </div>
         <div class="card-footer">
            <div class="col-12 col-sm-8 offset-sm-2">
                <button type="submit" class="btn btn-primary">Submit </button>
                <a href="/<%= systemConfigs.prefixAdmin%>/dashboard" class="btn btn-danger"> Cancel</a>
            </div>
        </div>
      </form>
      </div>
   </div>
</div>